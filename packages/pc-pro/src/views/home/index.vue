<template>
  <AppPage show-footer>
    <div class="flex">
      <n-card class="w-full" title="âœ¨ æ¬¢è¿ä½¿ç”¨ Naive Spider Admin">
        <p class="opacity-60">
          è¿™æ˜¯ä¸€æ¬¾æç®€é£æ ¼çš„åå°ç®¡ç†æ¨¡æ¿ï¼ŒåŒ…å«å‰åç«¯è§£å†³æ–¹æ¡ˆï¼Œå‰ç«¯ä½¿ç”¨ Vite + Vue3 + Pinia + Unocss
        </p>
        <footer class="mt-12 flex items-center justify-end" />
      </n-card>
    </div>
    <div class="mt-12 flex">
      <n-card class="w-50%" title="ğŸ’¯ ç‰¹æ€§" segmented>
        <ul class="opacity-90">
          <li class="py-4">
            ğŸ†’ ä½¿ç”¨
            <b>Vue3</b>
            ä¸»æµæŠ€æœ¯æ ˆ:
            <span class="text-highlight">Vite + Vue3 + Pinia</span>
          </li>
          <li class="py-4">
            ğŸ‡ ä½¿ç”¨
            <b>åŸå­CSS</b>
            æ¡†æ¶:
            <span class="text-highlight">Unocss</span>
            ï¼Œä¼˜é›…ã€è½»é‡ã€æ˜“ç”¨
          </li>
          <li class="py-4">
            ğŸ¤¹ ä½¿ç”¨ä¸»æµçš„
            <span class="text-highlight">iconify + unocss</span>
            å›¾æ ‡æ–¹æ¡ˆï¼Œæ”¯æŒè‡ªå®šä¹‰å›¾æ ‡ï¼Œæ”¯æŒåŠ¨æ€æ¸²æŸ“
          </li>
          <li class="py-4">
            ğŸ¨ ä½¿ç”¨ Naive UIï¼Œ
            <span class="text-highlight">æè‡´ç®€æ´çš„ä»£ç é£æ ¼å’Œæ¸…çˆ½çš„é¡µé¢è®¾è®¡</span>
            ï¼Œå®¡ç¾åœ¨çº¿ï¼Œä¸»é¢˜è½»æ¾å®šåˆ¶
          </li>
          <li class="py-4">
            ğŸ‘ å…ˆè¿›ä¸”æ˜“äºç†è§£çš„æ–‡ä»¶ç»“æ„è®¾è®¡ï¼Œå¤šä¸ªæ¨¡å—ä¹‹é—´
            <b>é›¶è€¦åˆ</b>
            ï¼Œå•ä¸ªä¸šåŠ¡æ¨¡å—åˆ é™¤ä¸å½±å“å…¶ä»–æ¨¡å—
          </li>
          <li class="py-4">
            ğŸš€
            <span class="text-highlight">æ‰å¹³åŒ–è·¯ç”±</span>
            è®¾è®¡ï¼Œæ¯ä¸€ä¸ªç»„ä»¶éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªé¡µé¢ï¼Œå‘Šåˆ«å¤šçº§è·¯ç”± KeepAlive éš¾å®ç°é—®é¢˜
          </li>

          <li class="py-4">
            ğŸ’
            <span class="text-highlight">åŸºäºæƒé™åŠ¨æ€ç”Ÿæˆè·¯ç”±</span>
            ï¼Œæ— éœ€é¢å¤–å®šä¹‰è·¯ç”±ï¼Œ
            <span class="text-highlight">403å’Œ404å¯åŒºåˆ†</span>
            ï¼Œè€Œä¸æ˜¯æ— æƒé™ä¹Ÿè·³404
          </li>
          <li class="py-4">
            âœ¨ åŸºäº Naive UI å°è£…
            <span class="text-highlight">message</span>
            å…¨å±€å·¥å…·æ–¹æ³•ï¼Œæ”¯æŒæ‰¹é‡æé†’ï¼Œæ”¯æŒè·¨é¡µé¢å…±äº«å®ä¾‹
          </li>
          <li class="py-4">
            âš¡ï¸ åŸºäº Naive UI å°è£…å¸¸ç”¨çš„ä¸šåŠ¡ç»„ä»¶ï¼ŒåŒ…å«
            <span class="text-highlight">Page</span>
            ç»„ä»¶ã€
            <span class="text-highlight">CRUD</span>
            è¡¨æ ¼ç»„ä»¶åŠ
            <span class="text-highlight">Modal</span>
            ç»„ä»¶ï¼Œå‡å°‘å¤§é‡é‡å¤æ€§å·¥ä½œ
          </li>
        </ul>
      </n-card>

      <n-card class="ml-12 w-50%" title="ğŸ› ï¸ æŠ€æœ¯æ ˆ" segmented>
        <VChart :option="skillOption" autoresize />
      </n-card>
    </div>

    <n-card class="mt-12" title="âš¡ï¸ è¶‹åŠ¿" segmented>
      <div class="h-400">
        <VChart :option="trendOption" autoresize />
      </div>
    </n-card>
  </AppPage>
</template>

<script setup lang="ts">
import type { ECBasicOption } from 'echarts/types/dist/shared'
import { useUserStore } from '@/store'
import { BarChart, LineChart, PieChart } from 'echarts/charts'
import { GridComponent, LegendComponent, TooltipComponent } from 'echarts/components'
import * as echarts from 'echarts/core'
import { UniversalTransition } from 'echarts/features'
import { CanvasRenderer } from 'echarts/renderers'
import VChart from 'vue-echarts'

// å®šä¹‰ç»„ä»¶åç§°
defineOptions({ name: 'HomePage' })

const userStore = useUserStore()

echarts.use([
  TooltipComponent,
  GridComponent,
  LegendComponent,
  BarChart,
  LineChart,
  CanvasRenderer,
  UniversalTransition,
  PieChart,
])

interface TrendDataItem {
  name: string
  type: string
  yAxisIndex?: number
  data: number[]
}

interface SkillDataItem {
  value: number
  name: string
}

const trendOption: ECBasicOption = {
  tooltip: {
    trigger: 'axis',
    axisPointer: {
      type: 'cross',
      crossStyle: {
        color: '#999',
      },
    },
  },
  legend: {
    top: '5%',
    data: ['time', 'line'],
  },
  xAxis: [
    {
      type: 'category',
      data: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
      axisPointer: {
        type: 'shadow',
      },
    },
  ],
  yAxis: [
    {
      type: 'value',
      min: 0,
      max: 3000,
      interval: 500,
      axisLabel: {
        formatter: '{value}',
      },
    },
    {
      type: 'value',
      min: 0,
      max: 500,
      interval: 100,
      axisLabel: {
        formatter: '{value}',
      },
    },
  ],
  series: [
    {
      name: 'time',
      type: 'line',
      data: [200, 320, 520, 550, 600, 805, 888, 950, 1300, 2503, 2702, 2712],
    },
    {
      name: 'line',
      yAxisIndex: 1,
      type: 'bar',
      data: [40, 72, 110, 115, 121, 175, 180, 201, 260, 398, 423, 455],
    },
  ] as TrendDataItem[],
}

const skillOption: ECBasicOption = {
  tooltip: {
    trigger: 'item',
    formatter({ name, value }: { name: string; value: number }) {
      return `${name} ${value}%`
    },
  },
  legend: {
    left: 'center',
  },
  series: [
    {
      top: '12%',
      type: 'pie',
      radius: ['35%', '90%'],
      avoidLabelOverlap: true,
      itemStyle: {
        borderRadius: 10,
        borderColor: '#fff',
        borderWidth: 2,
      },
      label: {
        show: false,
        position: 'center',
      },
      emphasis: {
        label: {
          show: true,
          fontSize: 36,
          fontWeight: 'bold',
        },
      },
      labelLine: {
        show: false,
      },
      data: [
        { value: 38.5, name: 'Vue' },
        { value: 37.0, name: 'TypeScript' },
        { value: 6.5, name: 'CSS' },
        { value: 6.2, name: 'HTML' },
        { value: 1.8, name: 'Other' },
      ] as SkillDataItem[],
    },
  ],
}
</script>
